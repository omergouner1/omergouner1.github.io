<!DOCTYPE html>
<html lang="en">

<head>

    <title>100box</title>
    <style>
        body {
            background-color: lightslategray;
        }

        #canvas {
            position: absolute;
            left: 25%;
        }

        #score{
            position:absolute;
            left:1200px;
            top:250px;
            font-family: sans-serif;
            font-size:50px;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="700" height="600" canvas style="border:1px solid black"></canvas>

    <p id="score">
        0
    </p>
</body>

</html>
<script>

    var score = 0
    var changeDirX = 10
    var changeDirY = 10
    var canvas = document.getElementById("canvas")
    var ctx = canvas.getContext("2d")
    var numBoxes = 1000
    var xboxes = []
    var yboxes = []
    var changeDirX = []
    var changeDirY = []

    ctx.clearRect(0, 0, 800, 800)
    setInterval(main, 10)


    
    for (var i = 0; i < numBoxes; i = i + 1) {
        xBox = Math.floor(Math.random() * 650) + 1
        yBox = Math.floor(Math.random() * 550) + 1
        xboxes.push(xBox)
        yboxes.push(yBox)
        RandomDirX = Math.floor(Math.random() * 20) + 1
        RandomDirY = Math.floor(Math.random() * -20) + 1
        /* if (randomX === 2) {
             RandomDirX = 7
         } else {
             RandomDirX = -7
         }
            if (randomY === 2) {
             RandomDirY = 7
         } else {
             RandomDirY = -7
         }   */
        changeDirX.push(RandomDirX);
        changeDirY.push(RandomDirY);
    }

    function main() {
        ctx.clearRect(0, 0, 700, 600)


        for (var i = 0; i < numBoxes; i = i + 1) {


            if (xboxes[i] <= 0) {
                changeDirX[i] = -changeDirX[i];
                score = score + 1
    
            }
            if (xboxes[i] >= 695) {
                changeDirX[i] = -changeDirX[i];
                score = score + 1
            }
            if (yboxes[i] <= 0) {
                changeDirY[i] = -changeDirY[i];
                score = score + 1
            }
            if (yboxes[i] >= 595) {
                changeDirY[i] = -changeDirY[i];
                score = score + 1
            }

            xboxes[i] = xboxes[i] + changeDirX[i]
            yboxes[i] = yboxes[i] + changeDirY[i]

            xbox = xboxes[i]
            ybox = yboxes[i]

            document.getElementById("score").innerText = score

            ctx.fillRect(xbox, ybox, 5, 5);
        }
        numBoxes = numBoxes + 1
    }

</script>